import{a9 as k,P as n,ab as b,e as p,f as V,w as a,k as l,p as h,ad as c,ac as u,x as r,m as w,v as y,g as i,af as x,F as _,y as Q,ae as q,Q as C,l as A}from"./app-ef0de7b8.js";import{Q as v,a as I,b as T,c as D}from"./QTable-331a9308.js";import{Q as S,f as j,g as N,h as U}from"./QSpace-24f21fcb.js";const B={data(){return{data:[],hero:null,oke:!1,toggle:!1,columns:[{name:"date",required:!0,label:"Tanggal",align:"left",field:"date",sortable:!0},{name:"text",required:!0,label:"Text",align:"left",field:"text",sortable:!0},{name:"aksi",required:!0,label:"Aksi",align:"left",field:"aksi",sortable:!1}],showAddDialog:!1,newItem:{date:"",text:""},pagination:{},filter:null}},watch:{toggle(){this.toggleAktif()}},methods:{submit(){this.hero=="inashol09"&&(this.oke=!0)},toggleAktif(){n.show();let s={key:"924rjnjefj9e9re###*w",indo_aktif:this.toggle?1:0};axios.post("/api/config-toggle-story-indo",s).then(e=>{this.toggle=!!e.data}).finally(()=>{n.hide()})},saveNewItem(){n.show();let s={key:"924rjnjefj9e9re###*w",...this.newItem};axios.post("/api/love-story-indo",s).then(e=>{this.data.push(e.data),this.newItem={date:"",text:""}}).finally(()=>{this.showAddDialog=!1,n.hide()})},fill(){n.show(),axios.get("/api/love-story-indo").then(s=>{this.toggle=!!s.data.toggle,this.data=s.data.stories}).finally(()=>{n.hide()})},destroy(s){n.show();let e={key:"924rjnjefj9e9re###*w",id:s.id};axios.post("/api/hapus-love-story-indo",e).then(()=>{const f=s.id;this.data=this.data.filter(g=>g.id!==f)}).finally(()=>{n.hide()})},openDelete(s){b.create({dark:!0,title:"Confirm",message:`Apakah anda yakin menghapus story : ${s.text} ?`,cancel:!0,persistent:!0}).onOk(()=>{this.destroy(s)}).onOk(()=>{}).onCancel(()=>{}).onDismiss(()=>{})}},mounted(){this.fill()}},P={key:0},F={key:1},L={class:"row"},R=i("div",{class:"col-12 text-h5"},"Love Story Indo",-1),z=i("div",null,"Status Aktif",-1),O=i("div",null,"Tanggal",-1),E=i("div",null,"Text",-1),M={class:"row q-mt-md"};function G(s,e,f,g,t,m){return p(),V(U,{view:"lhr lpR lFr"},{default:a(()=>[l(N,{class:"row justify-center",style:{"padding-bottom":"100px"}},{default:a(()=>[l(S,{class:"col-12 col-md-10 q-pa-md"},{default:a(()=>[t.oke?y("",!0):(p(),h("div",P,[l(v,{onSubmit:c(m.submit,["prevent"])},{default:a(()=>[l(u,{rules:[o=>s.val!==null&&s.val!==""||"Required"],label:"hero",dense:"",outlined:"",modelValue:t.hero,"onUpdate:modelValue":e[0]||(e[0]=o=>t.hero=o),class:"q-mb-sm"},null,8,["rules","modelValue"]),l(r,{type:"submit",color:"orange"},{default:a(()=>[w("submit")]),_:1})]),_:1},8,["onSubmit"])])),t.oke?(p(),h("div",F,[l(I,{rows:t.data,columns:t.columns,pagination:t.pagination,"rows-per-page-options":[10,20,50],filter:t.filter},{"top-left":a(o=>[i("div",L,[R,i("div",null,[z,l(x,{modelValue:t.toggle,"onUpdate:modelValue":e[1]||(e[1]=d=>t.toggle=d),color:"green"},null,8,["modelValue"])])])]),"top-right":a(o=>[l(u,{outlined:"",dense:"",debounce:"300",modelValue:t.filter,"onUpdate:modelValue":e[2]||(e[2]=d=>t.filter=d),placeholder:"Search",class:"q-mr-sm"},{append:a(()=>[l(_,{name:"search"})]),_:1},8,["modelValue"]),l(r,{class:Q(s.$q.screen.xs?"q-mt-sm":""),label:"Add",color:"primary",onClick:e[3]||(e[3]=d=>t.showAddDialog=!0)},null,8,["class"])]),"body-cell-aksi":a(o=>[l(T,{props:o},{default:a(()=>[l(r,{onClick:d=>m.openDelete(o.row),color:"red",icon:"delete",flat:"",round:"",size:"sm"},{default:a(()=>[l(D,{class:"bg-accent"},{default:a(()=>[w("hapus")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination","filter"]),l(q,{modelValue:t.showAddDialog,"onUpdate:modelValue":e[7]||(e[7]=o=>t.showAddDialog=o),persistent:""},{default:a(()=>[l(C,{style:{width:"800px"}},{default:a(()=>[l(A,null,{default:a(()=>[l(v,{onSubmit:c(m.saveNewItem,["prevent"])},{default:a(()=>[i("div",null,[i("div",null,[O,l(u,{modelValue:t.newItem.date,"onUpdate:modelValue":e[4]||(e[4]=o=>t.newItem.date=o),dense:"",outlined:"",rules:[o=>!!o||"Tanggal is required"]},null,8,["modelValue","rules"])]),i("div",null,[E,l(u,{type:"textarea",autogrow:"",modelValue:t.newItem.text,"onUpdate:modelValue":e[5]||(e[5]=o=>t.newItem.text=o),dense:"",outlined:"",rules:[o=>!!o||"Tanggal is required"]},null,8,["modelValue","rules"])]),i("div",M,[l(j),l(r,{label:"Cancel",color:"secondary",onClick:e[6]||(e[6]=o=>t.showAddDialog=!1),class:"q-mr-sm"}),l(r,{label:"Save",color:"primary",type:"submit"})])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])):y("",!0)]),_:1})]),_:1})]),_:1})}const W=k(B,[["render",G]]);export{W as default};
